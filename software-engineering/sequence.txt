title Pomodoro timer

actor User
participant Website
database Storage

==Таймер==



group Один цикл роботи, повторюється стандартно 4 рази. На останній перемикається на велику перерву
User->Website:Користувач запускає таймер в режимі фокусу
Website->Storage:Оновлюється інформація в сховищі
Website<--Storage:Оновлена і остання інформація
User<--Website:Користувачу показується таймер
abox over User,Website:25 хвилин, за замовчуванням
Website->Storage:Зупиняється таймер
Website->Storage:Додається новий запис до статистики
Website->Storage:Перемикається режим фокусу на режим короткої перерви
Website<--Storage:Оновлена і остання інформація
User<--Website:Користувачу показується наступний режим з не запущеним таймером
end
group Ручна зміна категорій
User->Website:Користувач клікає на поточний режим на головному екрані
User<--Website:Показується вікно вибору режима
User->Website:Користувач змінює режим
Website->Storage:Зупиняється таймер, якщо активний
Website->Storage:Змінюється поточний режим таймера
Website<--Storage:Оновлюються всі компоненти, \nякі використовують сховище налаштувань
User<--Website:Користувачу показується обраний режим
end
space
space
==Налаштування==

User->Website:Натискає на кнопку відкриття налаштувань
Website-->User:Показує панель налаштувань



group Зміна кольору поточного режиму

User->Website:Змінює колір для поточного режиму

Website->Storage:Зупиняється таймер, якщо активний
Website->Storage:Оновлюється колір в сховищі
Website<--Storage:Оновлюються всі компоненти, \nякі використовують сховище налаштувань
User<--Website:Колір змінюється для всіх елементів
end

group Зміна кольору НЕ поточного режиму

User->Website:Змінює колір для НЕ поточного режиму "A"
Website->Storage:Оновлюється колір в сховищі
Website->Storage:Зупиняється таймер, якщо активний
Website<--Storage:Оновлюються всі компоненти, \nякі використовують сховище налаштувань
User<--Website:Колір режиму "A" змінюється, але не показується користувачу


User->Website:Змінює режим на "A"
Website->Storage:Оновлюється обраний режим
Website->Storage:Зупиняється таймер, якщо активний
Website<--Storage:Оновлюються всі компоненти, \nякі використовують сховище налаштувань
Website-->User:Показується режим "A" з новими кольорами
end

group Зміна часу або інших параметрів

User->Website:Змінює час або кількість помідорок

Website->Storage:Зупиняється таймер, якщо активний
Website->Storage:Оновлюється інформація в сховищі
Website<--Storage:Оновлюються всі компоненти, \nякі використовують сховище налаштувань
User<--Website:Нові дані показуються користувачу
end

space
space
==Категорії==


group Створення категорії



User->Website:Відкриває панель з категоріями
User<--Website:Показується панель з категоріями
User->Website:Натискає створити нову категорію
User<--Website:Показується вікно для створення нової категорії
User->Website:Вводить інформацію про нову категорію та натискає Add
Website->Storage:Нова категорія додається в сховище
Website<--Storage:Оновлюються всі компоненти, які використовують \nсховище категорій
User<--Website:Нова категорія показується користувачу в панелі категорій
end

group Використання категорії

User->Website:На головному екрані користувач натискає на поточну категорію
User<--Website:Показується вікно зміни категорій
User->Website:Користувач змінює категорію
Website->Storage:Зупиняється таймер, якщо активний
Website->Storage:Змінюється активна категорія
Website<--Storage:Оновлюються всі компоненти, \nякі використовують сховище налаштувань
User<--Website:Користувачу показується нова активна категорія
end

group Видалення категорії
User->Website:Відкриває панель з категоріями
User<--Website:Показується панель з категоріями

User->Website:Клікає на іконку видалення категорії
Website->Storage:Зупиняється таймер, якщо активний
Website->Storage:Змінюється активна категорія на стандартну
Website<--Storage:Оновлюються всі компоненти, \nякі використовують сховище налаштувань
Website->Storage:Категорія видаляється зі сховища
Website<--Storage:Оновлюються всі компоненти, які використовують \nсховище категорій
User<--Website:Користувачу показується стандартна активна категорія
end

space
space

==Статистика==
group Перегляд статистики
User->Website:Відкриває панель з статисткою
User<--Website:Показується панель з статисткою\nКожен запис має час, дату, категорію та режим
end

group Видалення статистики
User->Website:Відкриває панель з статисткою
User<--Website:Показується панель з статисткою
User->Website:Натискає на видалити запис статистики
Website->Storage:Запис видаляється зі сховища статистики
Website<--Storage:Дані оновлено
User<--Website:Запис був видалений
end